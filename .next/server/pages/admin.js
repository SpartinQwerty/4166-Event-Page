(()=>{var e={};e.id=964,e.ids=[964,888,660],e.modules={5043:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{config:()=>p,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>m,getStaticProps:()=>u,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var n=s(7093),a=s(5244),i=s(1323),o=s(2899),c=s.n(o),l=s(6814),d=s(1241),h=e([l,d]);[l,d]=h.then?(await h)():h;let x=(0,i.l)(d,"default"),u=(0,i.l)(d,"getStaticProps"),m=(0,i.l)(d,"getStaticPaths"),g=(0,i.l)(d,"getServerSideProps"),p=(0,i.l)(d,"config"),f=(0,i.l)(d,"reportWebVitals"),j=(0,i.l)(d,"unstable_getStaticProps"),b=(0,i.l)(d,"unstable_getStaticPaths"),v=(0,i.l)(d,"unstable_getStaticParams"),y=(0,i.l)(d,"unstable_getServerProps"),S=(0,i.l)(d,"unstable_getServerSideProps"),w=new n.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:l.default,Document:c()},userland:d});t()}catch(e){t(e)}})},862:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.d(r,{Z:()=>u});var n=s(997),a=s(2210),i=s(6134),o=s(1664),c=s.n(o),l=s(1649),d=s(6689),h=s(8726),x=e([a,i]);function u({children:e}){let{data:r}=(0,l.useSession)(),{isAdmin:s}=(0,h.A)(),[t,o]=(0,d.useState)("");console.log("Session data:",r),console.log("Is admin:",s);let x=e=>{e.preventDefault(),console.log("Searching for:",t)};return(0,n.jsxs)(a.Box,{children:[n.jsx(a.Box,{as:"nav",bg:"primary.600",py:2,position:"sticky",top:0,zIndex:1e3,children:n.jsx(a.Container,{maxW:"container.xl",children:(0,n.jsxs)(a.Flex,{align:"center",gap:4,children:[n.jsx(a.Link,{as:"a",href:"/",fontSize:"xl",fontWeight:"bold",color:"white",_hover:{textDecoration:"none",color:"primary.100"},children:"EventHub"}),n.jsx(a.Flex,{flex:1,mx:4,children:n.jsx("form",{onSubmit:x,style:{width:"100%"},children:(0,n.jsxs)(a.InputGroup,{size:"md",children:[n.jsx(a.Input,{bg:"white",placeholder:"Search events...",value:t,onChange:e=>o(e.target.value),borderRadius:"md",height:"40px",_focus:{borderColor:"secondary.300",boxShadow:"0 0 0 1px var(--chakra-colors-secondary-300)"}}),n.jsx(a.InputRightElement,{h:"100%",children:n.jsx(a.Button,{height:"100%",w:"100%",onClick:x,bg:"secondary.500",color:"white",_hover:{bg:"secondary.600"},borderLeftRadius:"0",borderRightRadius:"md",children:n.jsx(i.SearchIcon,{})})})]})})}),n.jsx(a.Flex,{gap:4,align:"center",children:r?(0,n.jsxs)(n.Fragment,{children:[n.jsx(a.Link,{as:"a",href:"/events/create",color:"white",_hover:{color:"secondary.200"},children:"Create Event"}),s&&n.jsx(a.Button,{as:"a",href:"/admin",colorScheme:"red",size:"sm",leftIcon:n.jsx(a.Icon,{as:i.StarIcon}),_hover:{bg:"red.600"},children:"Admin"}),(0,n.jsxs)(a.Menu,{children:[n.jsx(a.MenuButton,{as:a.Button,variant:"ghost",color:"white",_hover:{bg:"primary.700"},_active:{bg:"primary.700"},children:"Account"}),(0,n.jsxs)(a.MenuList,{children:[n.jsx(a.MenuItem,{as:"a",href:"/profile",children:"Profile"}),n.jsx(a.MenuItem,{as:"a",href:"/favorites",children:"My Favorites"}),n.jsx(a.MenuItem,{onClick:()=>{(0,l.signOut)({callbackUrl:"/",redirect:!0})},children:"Sign Out"})]})]})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(a.Link,{as:"a",href:"/auth/signin",color:"white",_hover:{color:"secondary.200"},children:"Sign In"}),n.jsx(a.Button,{as:"a",href:"/auth/signup",colorScheme:"secondary",size:"sm",_hover:{bg:"secondary.600"},children:"Sign Up"})]})})]})})}),n.jsx(a.Box,{bg:"primary.700",py:2,children:n.jsx(a.Container,{maxW:"container.xl",children:(0,n.jsxs)(a.Flex,{gap:6,children:[n.jsx(c(),{href:"/events",legacyBehavior:!0,children:(0,n.jsxs)(a.Link,{color:"white",_hover:{color:"secondary.200"},display:"flex",alignItems:"center",gap:2,children:[n.jsx(i.CalendarIcon,{}),"All Events"]})}),n.jsx(c(),{href:"/events/today",legacyBehavior:!0,children:(0,n.jsxs)(a.Link,{color:"white",_hover:{color:"secondary.200"},display:"flex",alignItems:"center",gap:2,children:[n.jsx(i.TimeIcon,{}),"Today's Events"]})}),n.jsx(c(),{href:"/events/popular",legacyBehavior:!0,children:(0,n.jsxs)(a.Link,{color:"white",_hover:{color:"secondary.200"},display:"flex",alignItems:"center",gap:2,children:[n.jsx(i.StarIcon,{}),"Popular"]})}),n.jsx(c(),{href:"/favorites",legacyBehavior:!0,children:(0,n.jsxs)(a.Link,{color:"white",_hover:{color:"secondary.200"},display:"flex",alignItems:"center",gap:2,children:[n.jsx(i.StarIcon,{}),"Favorites"]})}),n.jsx(c(),{href:"/events/nearby",legacyBehavior:!0,children:(0,n.jsxs)(a.Link,{color:"white",_hover:{color:"secondary.200"},display:"flex",alignItems:"center",gap:2,children:[n.jsx(i.TimeIcon,{}),"Near Me"]})})]})})}),n.jsx(a.Box,{as:"main",children:e})]})}[a,i]=x.then?(await x)():x,t()}catch(e){t(e)}})},8726:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});var t=s(1649),n=s(6689);function a(){let{data:e,status:r}=(0,t.useSession)(),[s,a]=(0,n.useState)(!1);return{isAdmin:s,isLoading:"loading"===r,isAuthenticated:"authenticated"===r}}},6814:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>d});var n=s(997),a=s(2210),i=s(1649),o=s(862),c=s(8981);s(6764);var l=e([a,o,c]);function d({Component:e,pageProps:{session:r,...s}}){return n.jsx(i.SessionProvider,{session:r,children:n.jsx(a.ChakraProvider,{theme:c.Z,children:n.jsx(o.Z,{children:n.jsx(e,{...s})})})})}[a,o,c]=l.then?(await l)():l,t()}catch(e){t(e)}})},1241:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>h,getServerSideProps:()=>x});var n=s(997),a=s(2210),i=s(1649),o=s(1163),c=s(8726),l=s(6134),d=e([a,l]);function h(){let e=(0,o.useRouter)(),{data:r,status:s}=(0,i.useSession)({required:!0,onUnauthenticated(){e.push("/auth/signin")}}),{isAdmin:t,isLoading:d}=(0,c.A)();return(console.log("Admin page - Session:",r),console.log("Admin page - isAdmin:",t),"loading"===s||d)?n.jsx(a.Container,{maxW:"container.xl",py:8,children:(0,n.jsxs)(a.Box,{className:"bg-white rounded-lg shadow-md p-8 mb-8",textAlign:"center",children:[n.jsx(a.Heading,{as:"h2",size:"lg",mb:4,children:"Loading..."}),n.jsx(a.Text,{children:"Please wait while we load your dashboard."})]})}):t?n.jsx(a.Container,{maxW:"container.xl",py:8,children:(0,n.jsxs)(a.Box,{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[n.jsx(a.Heading,{as:"h1",size:"xl",className:"text-primary-700 mb-6",children:"Admin Dashboard"}),n.jsx(a.Text,{className:"text-gray-600 mb-8",children:"Welcome to the admin dashboard. From here, you can manage all aspects of your event platform."}),(0,n.jsxs)(a.SimpleGrid,{columns:{base:1,md:2,lg:3},spacing:6,children:[n.jsx(a.Box,{p:6,borderWidth:"1px",borderRadius:"lg",className:"hover:border-secondary-300 cursor-pointer",_hover:{transform:"translateY(-4px)",transition:"transform 0.2s",boxShadow:"lg"},onClick:()=>e.push("/admin/games"),children:(0,n.jsxs)(a.Flex,{direction:"column",align:"center",justify:"center",textAlign:"center",children:[n.jsx(a.Icon,{as:l.StarIcon,w:10,h:10,color:"blue.500",mb:4}),n.jsx(a.Heading,{as:"h3",size:"md",mb:2,children:"Manage Games"}),n.jsx(a.Text,{children:"Add, edit, or remove games available for events."})]})}),n.jsx(a.Box,{p:6,borderWidth:"1px",borderRadius:"lg",className:"hover:border-secondary-300 cursor-pointer",_hover:{transform:"translateY(-4px)",transition:"transform 0.2s",boxShadow:"lg"},onClick:()=>e.push("/admin/locations"),children:(0,n.jsxs)(a.Flex,{direction:"column",align:"center",justify:"center",textAlign:"center",children:[n.jsx(a.Icon,{as:l.CalendarIcon,w:10,h:10,color:"green.500",mb:4}),n.jsx(a.Heading,{as:"h3",size:"md",mb:2,children:"Manage Locations"}),n.jsx(a.Text,{children:"Add, edit, or remove locations available for events."})]})}),n.jsx(a.Box,{p:6,borderWidth:"1px",borderRadius:"lg",className:"hover:border-secondary-300 cursor-pointer",_hover:{transform:"translateY(-4px)",transition:"transform 0.2s",boxShadow:"lg"},onClick:()=>e.push("/admin/set-admin"),children:(0,n.jsxs)(a.Flex,{direction:"column",align:"center",justify:"center",textAlign:"center",children:[n.jsx(a.Icon,{as:l.StarIcon,w:10,h:10,color:"purple.500",mb:4}),n.jsx(a.Heading,{as:"h3",size:"md",mb:2,children:"Set Admin User"}),n.jsx(a.Text,{children:"Grant admin privileges to existing users."})]})}),n.jsx(a.Box,{p:6,borderWidth:"1px",borderRadius:"lg",className:"hover:border-secondary-300 cursor-pointer",_hover:{transform:"translateY(-4px)",transition:"transform 0.2s",boxShadow:"lg"},onClick:()=>e.push("/admin/events"),children:(0,n.jsxs)(a.Flex,{direction:"column",align:"center",justify:"center",textAlign:"center",children:[n.jsx(a.Icon,{as:l.CalendarIcon,w:10,h:10,color:"red.500",mb:4}),n.jsx(a.Heading,{as:"h3",size:"md",mb:2,children:"Manage Events"}),n.jsx(a.Text,{children:"View, edit, or delete events on the platform."})]})})]})]})}):n.jsx(a.Container,{maxW:"container.xl",py:8,children:(0,n.jsxs)(a.Box,{className:"bg-white rounded-lg shadow-md p-8 mb-8",textAlign:"center",children:[n.jsx(a.Heading,{as:"h2",size:"lg",mb:4,children:"Access Denied"}),n.jsx(a.Text,{mb:4,children:"You do not have admin privileges to access this page."}),n.jsx(a.Button,{colorScheme:"blue",onClick:()=>e.push("/"),children:"Go to Homepage"})]})})}[a,l]=d.then?(await d)():d;let x=async e=>await (0,i.getSession)(e)?{props:{}}:{redirect:{destination:"/auth/signin",permanent:!1}};t()}catch(e){t(e)}})},8981:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.d(r,{Z:()=>i});var n=s(2210),a=e([n]);n=(a.then?(await a)():a)[0];let i=(0,n.extendTheme)({styles:{global:{body:{bg:"#f8fafc"}}},components:{Button:{defaultProps:{colorScheme:"primary"}}},colors:{primary:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},secondary:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},accent:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75"}},config:{initialColorMode:"light",useSystemColorMode:!1}});t()}catch(e){t(e)}})},6764:()=>{},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},6134:e=>{"use strict";e.exports=import("@chakra-ui/icons")},2210:e=>{"use strict";e.exports=import("@chakra-ui/react")}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[117,899,664,342],()=>s(5043));module.exports=t})();