"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/game";
exports.ids = ["pages/api/game"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "kysely":
/*!*************************!*\
  !*** external "kysely" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("kysely");;

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgame&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgame.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgame&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgame.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/game.ts */ \"(api)/./pages/api/game.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/game\",\n        pathname: \"/api/game\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_game_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdhbWUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmdhbWUudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDZ0Q7QUFDaEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLCtDQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywrQ0FBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldmVudC1tYW5hZ2VtZW50LXN5c3RlbS8/MmU5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2dhbWUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nYW1lXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2FtZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgame&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgame.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./actions/games.ts":
/*!**************************!*\
  !*** ./actions/games.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGame: () => (/* binding */ createGame),\n/* harmony export */   deleteGame: () => (/* binding */ deleteGame),\n/* harmony export */   getAllGames: () => (/* binding */ getAllGames),\n/* harmony export */   getGame: () => (/* binding */ getGame),\n/* harmony export */   updateGame: () => (/* binding */ updateGame)\n/* harmony export */ });\n/* harmony import */ var _lib_db_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/db/db */ \"(api)/./lib/db/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db_db__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_db_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function getGame(gId) {\n    const game = await _lib_db_db__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"game\").select([\n        \"id\",\n        \"title\",\n        \"description\"\n    ]).where(\"id\", \"=\", gId).executeTakeFirstOrThrow();\n    return game;\n}\nasync function getAllGames() {\n    const games = await _lib_db_db__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"game\").selectAll().execute();\n    return games;\n}\nasync function updateGame(gId, update) {\n    const updatedGame = await _lib_db_db__WEBPACK_IMPORTED_MODULE_0__.db.transaction().execute(async (trx)=>{\n        const game = await trx.updateTable(\"game\").set({\n            title: update.title,\n            description: update.description\n        }).where(\"id\", \"=\", gId).returning([\n            \"id\",\n            \"title\",\n            \"description\"\n        ]).executeTakeFirst();\n        return game;\n    });\n    return updatedGame;\n}\nasync function deleteGame(gId) {\n    const deletedGame = await _lib_db_db__WEBPACK_IMPORTED_MODULE_0__.db.transaction().execute(async (trx)=>{\n        const game = await trx.deleteFrom(\"game\").where(\"id\", \"=\", gId).returning([\n            \"id\",\n            \"title\",\n            \"description\"\n        ]).executeTakeFirst();\n        return game;\n    });\n    return deletedGame;\n}\nasync function createGame(game) {\n    const createdGame = await _lib_db_db__WEBPACK_IMPORTED_MODULE_0__.db.transaction().execute(async (trx)=>{\n        const cGame = await trx.insertInto(\"game\").columns([\n            \"title\",\n            \"description\"\n        ]).values({\n            title: game.title,\n            description: game.description\n        }).returning([\n            \"id\",\n            \"title\",\n            \"description\"\n        ]).executeTakeFirstOrThrow();\n        return cGame;\n    });\n    return createdGame;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9hY3Rpb25zL2dhbWVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpQztBQVExQixlQUFlQyxRQUFRQyxHQUFXO0lBQ3JDLE1BQU1DLE9BQU8sTUFBTUgsMENBQUVBLENBQ2hCSSxVQUFVLENBQUMsUUFDWEMsTUFBTSxDQUFDO1FBQUM7UUFBTTtRQUFTO0tBQWMsRUFDckNDLEtBQUssQ0FBQyxNQUFNLEtBQUtKLEtBQ2pCSyx1QkFBdUI7SUFDNUIsT0FBT0o7QUFDWDtBQUVPLGVBQWVLO0lBQ2xCLE1BQU1DLFFBQVEsTUFBTVQsMENBQUVBLENBQ2pCSSxVQUFVLENBQUMsUUFDWE0sU0FBUyxHQUNUQyxPQUFPO0lBQ1osT0FBT0Y7QUFDWDtBQUVPLGVBQWVHLFdBQVdWLEdBQVcsRUFBRVcsTUFBd0I7SUFDbEUsTUFBTUMsY0FBYyxNQUFNZCwwQ0FBRUEsQ0FBQ2UsV0FBVyxHQUFHSixPQUFPLENBQUMsT0FBT0s7UUFDdEQsTUFBTWIsT0FBTyxNQUFNYSxJQUNkQyxXQUFXLENBQUMsUUFDWkMsR0FBRyxDQUFDO1lBQUNDLE9BQU9OLE9BQU9NLEtBQUs7WUFBRUMsYUFBYVAsT0FBT08sV0FBVztRQUFBLEdBQ3pEZCxLQUFLLENBQUMsTUFBTSxLQUFNSixLQUNsQm1CLFNBQVMsQ0FBQztZQUFDO1lBQU07WUFBUztTQUFjLEVBQ3hDQyxnQkFBZ0I7UUFDckIsT0FBT25CO0lBQ1g7SUFDQSxPQUFPVztBQUNYO0FBRU8sZUFBZVMsV0FBV3JCLEdBQVc7SUFDeEMsTUFBTXNCLGNBQWMsTUFBTXhCLDBDQUFFQSxDQUFDZSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxPQUFPSztRQUN0RCxNQUFNYixPQUFPLE1BQU1hLElBQ2RTLFVBQVUsQ0FBQyxRQUNYbkIsS0FBSyxDQUFDLE1BQU0sS0FBS0osS0FDakJtQixTQUFTLENBQUM7WUFBQztZQUFNO1lBQVM7U0FBYyxFQUN4Q0MsZ0JBQWdCO1FBQ3JCLE9BQU9uQjtJQUNYO0lBRUEsT0FBT3FCO0FBQ1g7QUFFTyxlQUFlRSxXQUFXdkIsSUFBc0I7SUFDbkQsTUFBTXdCLGNBQWMsTUFBTTNCLDBDQUFFQSxDQUFDZSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxPQUFPSztRQUN0RCxNQUFNWSxRQUFRLE1BQU1aLElBQ2ZhLFVBQVUsQ0FBQyxRQUNYQyxPQUFPLENBQUM7WUFBQztZQUFRO1NBQWMsRUFDL0JDLE1BQU0sQ0FBQztZQUFDWixPQUFPaEIsS0FBS2dCLEtBQUs7WUFBRUMsYUFBYWpCLEtBQUtpQixXQUFXO1FBQUEsR0FDeERDLFNBQVMsQ0FBQztZQUFDO1lBQU07WUFBUztTQUFjLEVBQ3hDZCx1QkFBdUI7UUFDNUIsT0FBT3FCO0lBQ1g7SUFFQSxPQUFPRDtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXZlbnQtbWFuYWdlbWVudC1zeXN0ZW0vLi9hY3Rpb25zL2dhbWVzLnRzPzNjMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vbGliL2RiL2RiXCJcblxuZXhwb3J0IHR5cGUgR2FtZSA9IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdhbWUoZ0lkOiBudW1iZXIpOiBQcm9taXNlPEdhbWU+IHtcbiAgICBjb25zdCBnYW1lID0gYXdhaXQgZGJcbiAgICAgICAgLnNlbGVjdEZyb20oJ2dhbWUnKVxuICAgICAgICAuc2VsZWN0KFsnaWQnLCAndGl0bGUnLCAnZGVzY3JpcHRpb24nXSlcbiAgICAgICAgLndoZXJlKCdpZCcsICc9JywgZ0lkKVxuICAgICAgICAuZXhlY3V0ZVRha2VGaXJzdE9yVGhyb3coKTtcbiAgICByZXR1cm4gZ2FtZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEdhbWVzKCk6IFByb21pc2U8R2FtZVtdPiB7XG4gICAgY29uc3QgZ2FtZXMgPSBhd2FpdCBkYlxuICAgICAgICAuc2VsZWN0RnJvbSgnZ2FtZScpXG4gICAgICAgIC5zZWxlY3RBbGwoKVxuICAgICAgICAuZXhlY3V0ZSgpO1xuICAgIHJldHVybiBnYW1lcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUdhbWUoZ0lkOiBudW1iZXIsIHVwZGF0ZTogT21pdDxHYW1lLCAnaWQnPik6IFByb21pc2UgPEdhbWUgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCB1cGRhdGVkR2FtZSA9IGF3YWl0IGRiLnRyYW5zYWN0aW9uKCkuZXhlY3V0ZShhc3luYyAodHJ4KSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWUgPSBhd2FpdCB0cnhcbiAgICAgICAgICAgIC51cGRhdGVUYWJsZSgnZ2FtZScpXG4gICAgICAgICAgICAuc2V0KHt0aXRsZTogdXBkYXRlLnRpdGxlLCBkZXNjcmlwdGlvbjogdXBkYXRlLmRlc2NyaXB0aW9ufSlcbiAgICAgICAgICAgIC53aGVyZSgnaWQnLCAnPScgLCBnSWQpXG4gICAgICAgICAgICAucmV0dXJuaW5nKFsnaWQnLCAndGl0bGUnLCAnZGVzY3JpcHRpb24nXSlcbiAgICAgICAgICAgIC5leGVjdXRlVGFrZUZpcnN0KCk7XG4gICAgICAgIHJldHVybiBnYW1lO1xuICAgIH0pXG4gICAgcmV0dXJuIHVwZGF0ZWRHYW1lO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlR2FtZShnSWQ6IG51bWJlcik6IFByb21pc2U8R2FtZSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGRlbGV0ZWRHYW1lID0gYXdhaXQgZGIudHJhbnNhY3Rpb24oKS5leGVjdXRlKGFzeW5jICh0cngpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZSA9IGF3YWl0IHRyeFxuICAgICAgICAgICAgLmRlbGV0ZUZyb20oJ2dhbWUnKVxuICAgICAgICAgICAgLndoZXJlKCdpZCcsICc9JywgZ0lkKVxuICAgICAgICAgICAgLnJldHVybmluZyhbJ2lkJywgJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJ10pXG4gICAgICAgICAgICAuZXhlY3V0ZVRha2VGaXJzdCgpO1xuICAgICAgICByZXR1cm4gZ2FtZTtcbiAgICB9KVxuXG4gICAgcmV0dXJuIGRlbGV0ZWRHYW1lO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR2FtZShnYW1lOiBPbWl0PEdhbWUsICdpZCc+KTogUHJvbWlzZTxHYW1lPiB7XG4gICAgY29uc3QgY3JlYXRlZEdhbWUgPSBhd2FpdCBkYi50cmFuc2FjdGlvbigpLmV4ZWN1dGUoYXN5bmMgKHRyeCkgPT4ge1xuICAgICAgICBjb25zdCBjR2FtZSA9IGF3YWl0IHRyeFxuICAgICAgICAgICAgLmluc2VydEludG8oJ2dhbWUnKVxuICAgICAgICAgICAgLmNvbHVtbnMoWyd0aXRsZScsJ2Rlc2NyaXB0aW9uJ10pXG4gICAgICAgICAgICAudmFsdWVzKHt0aXRsZTogZ2FtZS50aXRsZSwgZGVzY3JpcHRpb246IGdhbWUuZGVzY3JpcHRpb259KVxuICAgICAgICAgICAgLnJldHVybmluZyhbJ2lkJywgJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJ10pXG4gICAgICAgICAgICAuZXhlY3V0ZVRha2VGaXJzdE9yVGhyb3coKTtcbiAgICAgICAgcmV0dXJuIGNHYW1lO1xuICAgIH0pXG5cbiAgICByZXR1cm4gY3JlYXRlZEdhbWU7XG59Il0sIm5hbWVzIjpbImRiIiwiZ2V0R2FtZSIsImdJZCIsImdhbWUiLCJzZWxlY3RGcm9tIiwic2VsZWN0Iiwid2hlcmUiLCJleGVjdXRlVGFrZUZpcnN0T3JUaHJvdyIsImdldEFsbEdhbWVzIiwiZ2FtZXMiLCJzZWxlY3RBbGwiLCJleGVjdXRlIiwidXBkYXRlR2FtZSIsInVwZGF0ZSIsInVwZGF0ZWRHYW1lIiwidHJhbnNhY3Rpb24iLCJ0cngiLCJ1cGRhdGVUYWJsZSIsInNldCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJyZXR1cm5pbmciLCJleGVjdXRlVGFrZUZpcnN0IiwiZGVsZXRlR2FtZSIsImRlbGV0ZWRHYW1lIiwiZGVsZXRlRnJvbSIsImNyZWF0ZUdhbWUiLCJjcmVhdGVkR2FtZSIsImNHYW1lIiwiaW5zZXJ0SW50byIsImNvbHVtbnMiLCJ2YWx1ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./actions/games.ts\n");

/***/ }),

/***/ "(api)/./lib/db/db.ts":
/*!**********************!*\
  !*** ./lib/db/db.ts ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kysely */ \"kysely\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__, kysely__WEBPACK_IMPORTED_MODULE_1__]);\n([pg__WEBPACK_IMPORTED_MODULE_0__, kysely__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst dialect = new kysely__WEBPACK_IMPORTED_MODULE_1__.PostgresDialect({\n    pool: new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool({\n        database: \"ttrpg\",\n        host: \"localhost\",\n        user: \"postgres\",\n        password: \"postgres\",\n        port: 5432,\n        max: 10\n    })\n});\nconst db = new kysely__WEBPACK_IMPORTED_MODULE_1__.Kysely({\n    dialect\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9CO0FBQzRCO0FBR2hELE1BQU1HLFVBQVUsSUFBSUQsbURBQWVBLENBQUM7SUFDaENFLE1BQU0sSUFBSUosK0NBQU8sQ0FBQztRQUNkTSxVQUFVO1FBQ1ZDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLE1BQU07UUFDTkMsS0FBSztJQUNUO0FBQ0o7QUFFTyxNQUFNQyxLQUFLLElBQUlYLDBDQUFNQSxDQUFXO0lBQ25DRTtBQUNKLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldmVudC1tYW5hZ2VtZW50LXN5c3RlbS8uL2xpYi9kYi9kYi50cz8wN2E3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwZyBmcm9tICdwZyc7XG5pbXBvcnQge0t5c2VseSwgUG9zdGdyZXNEaWFsZWN0IH0gZnJvbSAna3lzZWx5JztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IGRpYWxlY3QgPSBuZXcgUG9zdGdyZXNEaWFsZWN0KHtcbiAgICBwb29sOiBuZXcgcGcuUG9vbCh7XG4gICAgICAgIGRhdGFiYXNlOiAndHRycGcnLFxuICAgICAgICBob3N0OiAnbG9jYWxob3N0JyxcbiAgICAgICAgdXNlcjogJ3Bvc3RncmVzJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwb3N0Z3JlcycsIFxuICAgICAgICBwb3J0OiA1NDMyLFxuICAgICAgICBtYXg6IDEwXG4gICAgfSlcbn0pXG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBLeXNlbHk8RGF0YWJhc2U+KHtcbiAgICBkaWFsZWN0LFxufSkiXSwibmFtZXMiOlsicGciLCJLeXNlbHkiLCJQb3N0Z3Jlc0RpYWxlY3QiLCJkaWFsZWN0IiwicG9vbCIsIlBvb2wiLCJkYXRhYmFzZSIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJwb3J0IiwibWF4IiwiZGIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db/db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/game.ts":
/*!***************************!*\
  !*** ./pages/api/game.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _actions_games__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../actions/games */ \"(api)/./actions/games.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_actions_games__WEBPACK_IMPORTED_MODULE_0__]);\n_actions_games__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const { id } = req.body;\n            if (!id) {\n                const games = await (0,_actions_games__WEBPACK_IMPORTED_MODULE_0__.getAllGames)();\n                res.status(200).json(games);\n            } else {\n                const games = await (0,_actions_games__WEBPACK_IMPORTED_MODULE_0__.getGame)(id);\n                res.status(200).json(games);\n            }\n        } catch (e) {\n            res.status(500).json({\n                message: \"Failed to fetch games\"\n            });\n        }\n    } else if (req.method === \"POST\") {\n        try {\n            const { title, description } = req.body;\n            if (!title || !description) {\n                res.status(400).json({\n                    message: \"Missing required fields\"\n                });\n            }\n            const gme = {\n                title: title,\n                description: description\n            };\n            const game = await (0,_actions_games__WEBPACK_IMPORTED_MODULE_0__.createGame)(gme);\n            res.status(200).json(game);\n        } catch (e) {\n            res.status(500).json({\n                message: `Failed to create${e}`\n            });\n        }\n    } else if (req.method === \"DELETE\") {\n        try {\n            const { id } = req.body;\n            if (!id) {\n                res.status(400).json({\n                    message: \"Missing id to delete\"\n                });\n            }\n            const account = await (0,_actions_games__WEBPACK_IMPORTED_MODULE_0__.deleteGame)(id);\n            res.status(200).json(account);\n        } catch (e) {\n            res.status(500).json({\n                message: \"Failed to delete account\"\n            });\n        }\n    } else if (req.method === \"PUT\") {\n        try {\n            const { id, title, description } = req.body;\n            if (!id) {\n                res.status(400).json({\n                    message: \"missing id to PUT\"\n                });\n            }\n            const gme = {\n                title: title,\n                description: description\n            };\n            const game = await (0,_actions_games__WEBPACK_IMPORTED_MODULE_0__.updateGame)(id, gme);\n            res.status(200).json(game);\n        } catch (e) {\n            res.status(500).json({\n                message: \"failed to update\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            message: \"da fuc dewd\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NzVlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IGNyZWF0ZUdhbWUsIGRlbGV0ZUdhbWUsIEdhbWUsIGdldEFsbEdhbWVzLCBnZXRHYW1lLCB1cGRhdGVHYW1lIH0gZnJvbSBcIi4uLy4uL2FjdGlvbnMvZ2FtZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgICAgICAgcmVxOiBOZXh0QXBpUmVxdWVzdCwgXG4gICAgICAgIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSByZXEuYm9keTtcbiAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lcyA9IGF3YWl0IGdldEFsbEdhbWVzKCk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZ2FtZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lcyA9IGF3YWl0IGdldEdhbWUoaWQpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdhbWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggZ2FtZXMnfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qge3RpdGxlICwgZGVzY3JpcHRpb259ID0gcmVxLmJvZHk7XG4gICAgICAgICAgICBpZighdGl0bGUgfHwgIWRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcyd9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdtZTogT21pdDxHYW1lLCAnaWQnPiA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnYW1lID0gYXdhaXQgY3JlYXRlR2FtZShnbWUpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZ2FtZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBgRmFpbGVkIHRvIGNyZWF0ZSR7ZX1gfSlcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgaWYoIWlkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6ICdNaXNzaW5nIGlkIHRvIGRlbGV0ZSd9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBkZWxldGVHYW1lKGlkKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFjY291bnQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCd9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHtpZCwgdGl0bGUsIGRlc2NyaXB0aW9ufSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiAnbWlzc2luZyBpZCB0byBQVVQnfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnbWU6IE9taXQ8R2FtZSwgJ2lkJz4gPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBjb25zdCBnYW1lID0gYXdhaXQgdXBkYXRlR2FtZShpZCwgZ21lKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdhbWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogJ2ZhaWxlZCB0byB1cGRhdGUnfSlcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHttZXNzYWdlOiAnZGEgZnVjIGRld2QnfSlcbiAgICB9XG59Il0sIm5hbWVzIjpbImNyZWF0ZUdhbWUiLCJkZWxldGVHYW1lIiwiZ2V0QWxsR2FtZXMiLCJnZXRHYW1lIiwidXBkYXRlR2FtZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJpZCIsImJvZHkiLCJnYW1lcyIsInN0YXR1cyIsImpzb24iLCJlIiwibWVzc2FnZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJnbWUiLCJnYW1lIiwiYWNjb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/game.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgame&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgame.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();