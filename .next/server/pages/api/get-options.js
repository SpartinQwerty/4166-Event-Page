"use strict";(()=>{var e={};e.id=45,e.ids=[45],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},366:e=>{e.exports=import("kysely")},8678:e=>{e.exports=import("pg")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},6400:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>u,default:()=>d,routeModule:()=>l});var n=a(1802),i=a(7153),s=a(6249),o=a(520),c=e([o]);o=(c.then?(await c)():c)[0];let d=(0,s.l)(o,"default"),u=(0,s.l)(o,"config"),l=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/get-options",pathname:"/api/get-options",bundlePath:"",filename:""},userland:o});r()}catch(e){r(e)}})},213:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Bi:()=>c,TT:()=>d,U:()=>o,cF:()=>s,dz:()=>u});var n=a(409),i=e([n]);async function s(e){return await n.db.selectFrom("game").select(["id","title","description"]).where("id","=",e).executeTakeFirstOrThrow()}async function o(){return await n.db.selectFrom("game").selectAll().execute()}async function c(e,t){return await n.db.transaction().execute(async a=>await a.updateTable("game").set({title:t.title,description:t.description}).where("id","=",e).returning(["id","title","description"]).executeTakeFirst())}async function d(e){return await n.db.transaction().execute(async t=>await t.deleteFrom("game").where("id","=",e).returning(["id","title","description"]).executeTakeFirst())}async function u(e){return await n.db.transaction().execute(async t=>await t.insertInto("game").columns(["title","description"]).values({title:e.title,description:e.description}).returning(["id","title","description"]).executeTakeFirstOrThrow())}n=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},1459:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{YF:()=>d,hI:()=>o,k$:()=>s,ob:()=>c,tb:()=>u});var n=a(409),i=e([n]);async function s(e){return await n.db.selectFrom("location").select(["id","address"]).where("id","=",e).executeTakeFirstOrThrow()}async function o(){return await n.db.selectFrom("location").select(["id","address"]).execute()}async function c(e){return await n.db.transaction().execute(async t=>await t.insertInto("location").columns(["address"]).values({address:e.address}).returning(["id","address"]).executeTakeFirstOrThrow())}async function d(e,t){return await n.db.transaction().execute(async a=>await a.updateTable("location").set({address:t.address}).where("id","=",e).returning(["id","address"]).executeTakeFirst())}async function u(e){return await n.db.transaction().execute(async t=>await t.deleteFrom("location").where("id","=",e).returning(["id","address"]).executeTakeFirst())}n=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},409:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{db:()=>c});var n=a(8678),i=a(366),s=e([n,i]);[n,i]=s.then?(await s)():s;let o=new i.PostgresDialect({pool:new n.default.Pool({database:process.env.DB_NAME,host:"localhost",user:"postgres",password:"postgres",port:Number(process.env.DB_PORT),max:10})}),c=new i.Kysely({dialect:o});r()}catch(e){r(e)}})},520:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>o});var n=a(213),i=a(1459),s=e([n,i]);async function o(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let e=await (0,n.U)(),a=await (0,i.hI)();return t.status(200).json({games:e,locations:a})}catch(e){return console.error("Error fetching options:",e),t.status(500).json({message:"Error fetching options",error:e.message})}}[n,i]=s.then?(await s)():s,r()}catch(e){r(e)}})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=6400);module.exports=a})();